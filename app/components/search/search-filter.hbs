<div ...attributes id="search-filters">
  <Search::Filter::ControlBar
    id="search-filters-control-bar-bottom"
    @onResetFilters={{@resetFilters}}
  />

  <div id="search-filters-fields">
    <div id="search-filters-basic">
      {{! Searchterm }}
      <div class="field block">
        <label id="searchterm-label" class="label">
          Zoekterm
        </label>
        <div id="searchterm" class="control">
          <input
            class="input"
            placeholder="Wilgenlaan, sport, kerkfabriek, ..."
            aria-labbeledBy="searchterm-label"
            type="text"
            value={{@currentState.search}}
            {{on "input" this.updateSearch}}
          />
        </div>
      </div>

      <Search::Filter::IsHandledToggles
        class="block"
        @currentState={{@currentState.isHandled}}
        @update={{fn this.update "isHandled"}}
      />

      <div class="block">
        <label class="label">
          Werkingsgebied
        </label>
        <Search::Filter::GovernanceAreaSelect
          @selected={{this.selectedGovernanceAreas}}
          @onSelectionChange={{this.updateGovernanceAreas}}
        />
      </div>
    </div>

    <div id="search-filters-advanced">
      {{! Advanced filters }}
      <CpPanel @open={{true}} as |p|>
        <p.toggle>
          <span class="icon-text" id="filters-collapse-advanced-toggle">
            <span class="title is-5 mb-0">
              Geavanceerd
            </span>

            {{#if p.isOpen}}
              <span class="icon" {{render-feather-icons}}>
                <i data-feather="chevron-down" height="1.25rem"></i>
              </span>
            {{else}}
              <span class="icon" {{render-feather-icons}}>
                <i data-feather="chevron-right" height="1.25rem"></i>
              </span>
            {{/if}}
          </span>
        </p.toggle>

        <p.body>
          <div class="mt-2">
            <div class="block">
              <label class="label">
                Bestuurseenheid
              </label>
              <Search::Filter::AdministrativeUnitSelect
                @selected={{this.selectedAdministrativeUnits}}
                @onSelectionChange={{this.updateAdministrativeUnits}}
              />
            </div>

            <Search::Filter::HasAttributeGroup
              class="block"
              @currentState={{@currentState.has}}
              @update={{fn this.update "has"}}
            />
          </div>
        </p.body>
      </CpPanel>
    </div>
  </div>
</div>